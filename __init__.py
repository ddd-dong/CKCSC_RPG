from pymongo import MongoClient
import os

client = MongoClient("mongodb+srv://user_tst_1:aaa@mongodblearning.bafyb7n.mongodb.net/?retryWrites=true&w=majority",tls=True,tlsAllowInvalidCertificates=True)
print(client.list_database_names())
db = client["rpg"]
collection = db["token_rpg"]
# teamNumber=5
# list_of_lines = ['自殺案', '債主案', '歌妓案', '劍客案','鐵匠線','主線']
# possible_next = {'自殺案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, 
#                  '債主案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, 
#                  '歌妓案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, 
#                  '劍客案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, 
#                  '鐵匠線': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['end'], 'len': 2}, 
#                  '主線': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['6-0'], '6-0': ['7-0'], '7-0': ['other', 'chooce one', ['8-1', '8-2']], '8-1': ['other', 1, ['9-0']], '8-2': ['other', 2, ['9-0']], '9-0': ['10-0'], '10-0': ['11-0'], '11-0': ['other', 'judge', ['11-1', '11-2']], '11-1': ['end'], '11-2': ['end'], 'len': 13}}
# # collection.insert_one({"token":"user","privileges":"1"})
# # for i in range(350):
# #        collection.delete_one({"token":"user","privileges":"1"})
script_finalgress = {'自殺案':5, '債主案':5, '歌妓案':5, '劍客案':5, '鐵匠線':3, '主線':11}
# script_wholeprogress =  {'自殺案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], 
#                                        '債主案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], 
#                                        '歌妓案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], 
#                                        '劍客案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], 
#                                        '鐵匠線': ['0-0', '1-0', '2-0'], 
#                                        '主線': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0', '6-0', '7-0', '8-1', '8-2', '9-0', '10-0', '11-0', '11-1', '11-2']}
list_of_lines = ['自殺案', '債主案', '歌妓案', '劍客案','鐵匠線','主線']
teamNumber = 5
possible_next = {'自殺案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, '債主案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, '歌妓案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, '劍客案': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['end'], 'len': 5}, '鐵匠線': {'0-0': ['1-0'], '1-0': ['2-0'],'2-0': ['3-0'],'3-0': ['end'], 'len': 3}, '主線': {'0-0': ['1-0'], '1-0': ['2-0'], '2-0': ['3-0'], '3-0': ['4-0'], '4-0': ['5-0'], '5-0': ['6-0'], '6-0': ['7-0'], '7-0': ['other', 'chooce one', ['8-1', '8-2']], '8-1': ['other', 1, ['9-0']], '8-2': ['other', 2, ['9-0']], '9-0': ['10-0'], '10-0': ['11-0'], '11-0': ['other', 'judge', ['11-1', '11-2']], '11-1': ['end'], '11-2': ['end'], 'len': 13}}
script_wholeprogress = {'自殺案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], '債主案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], '歌妓案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], '劍客案': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0'], '鐵匠線': ['0-0', '1-0', '2-0',"3-0"], '主線': ['0-0', '1-0', '2-0', '3-0', '4-0', '5-0', '6-0', '7-0', '8-1', '8-2', '9-0', '10-0', '11-0']}

index_path=os.path.dirname(os.path.abspath(__file__))
